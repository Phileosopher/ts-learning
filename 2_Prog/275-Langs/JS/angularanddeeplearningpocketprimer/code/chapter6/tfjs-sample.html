<html>
 <head>
   <!-- https://medium.com/tensorflow/getting-started-with-tensorflow-js-50f6783489b2?linkId=52869033 -->

   <!-- Get latest version at https://github.com/tensorflow/tfjs -->
   <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.11.2"> 
   </script>
 </head>

 <body>
   <div id="trained_field"></div>
 </body>

 <script>
   async function trainLinearModel() {
    //----------------------------------
    // define a simple model that has:
    // 1) a single input (numeric value)
    // 3) connected to the output layer
    // 4) an output layer of one neuron
    //----------------------------------

    const model = tf.sequential();
    model.add(tf.layers.dense({units: 1, inputShape: [1]}));
    model.compile({
       loss: 'meanSquaredError',
       optimizer: 'sgd'
    });
    
  //input  tensor xs: is a 6x1 tensor 
  //output tensor ys: is a 6x1 tensor 

  //Equation: Y = 2*X - 1
  //const xs = tf.tensor2d([-1, 0, 1, 2, 3, 4], [6, 1]);
  //const ys = tf.tensor2d([-3, -1, 1, 3, 5, 7], [6, 1]);

  //Equation: Y = 1*X 
  //const xs = tf.tensor2d([0, 1, 2, 3, 4, 5], [6, 1]);
  //const ys = tf.tensor2d([0, 1, 2, 3, 4, 5], [6, 1]);
    
  //Equation: Y = 2*X 
  //const xs = tf.tensor2d([0, 1, 2, 3, 4, 5], [6, 1]);
  //const ys = tf.tensor2d([0, 2, 4, 6, 8, 10],[6, 1]);
    
  //Equation: Y = (-1)*X 
  //const xs = tf.tensor2d([0, 1, 2, 3, 4, 5], [6, 1]);
  //const ys = tf.tensor2d([0,-1,-2,-3,-4,-5], [6, 1]);
    
    await model.fit(xs, ys, {epochs: 500});
    
    document.getElementById('trained_field').innerText =
       model.predict(tf.tensor2d([10], [1, 1]));
   }

   trainLinearModel();
 </script>
<html>

